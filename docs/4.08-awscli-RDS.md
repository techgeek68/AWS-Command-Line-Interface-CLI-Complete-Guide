# AWS CLI â€” RDS (Relational Database Service) Operations Guide

---
> Replace 123456789012 with your AWS Account ID. Replace sample IDs (db, snapshots, SGs, ARNs) with your actual values.
---
> Sections: Listing, Engine Data, Create, Snapshots, Backups, Modify, Scaling, Security, Parameter/Option/Subnet Groups, Replication, Monitoring & Logs, Metrics, Performance Insights, IAM Auth, Tagging, Events, Troubleshooting, Cleanup.
---

## Table of Contents
1. [Quick Reference Variables](#quick-reference-variables)  
2. [Listing & Discovery](#listing--discovery)  
3. [Engine Versions & Orderable Classes](#engine-versions--orderable-classes)  
4. [Create DB Instance](#create-db-instance)  
5. [Waiters & Endpoints](#waiters--endpoints)  
6. [Snapshots (Manual & Automated)](#snapshots-manual--automated)  
7. [Restores & Copies](#restores--copies)  
8. [Modify / Scale / Maintenance](#modify--scale--maintenance)  
9. [Performance, Monitoring & Logs](#performance-monitoring--logs)  
10. [Parameter Groups](#parameter-groups)  
11. [Option Groups (Oracle / SQL Server / MySQL extras)](#option-groups-oracle--sql-server--mysql-extras)  
12. [Subnet & Security Groups](#subnet--security-groups)  
13. [Read Replicas & Multi-AZ](#read-replicas--multi-az)  
14. [Storage, Encryption & KMS](#storage-encryption--kms)  
15. [IAM Database Authentication](#iam-database-authentication)  
16. [Tagging](#tagging)  
17. [Events & Auditing](#events--auditing)  
18. [Metrics Examples (CloudWatch)](#metrics-examples-cloudwatch)  
19. [Best Practices](#best-practices)  
20. [Troubleshooting](#troubleshooting)  
21. [Automation Snippets](#automation-snippets)  
22. [Cleanup Sequences](#cleanup-sequences)  
23. [Notes](#notes)  

---

## Reference Variables
```bash
export DB_ID=dev-mysql01
export ENGINE_VERSION=8.0.36
export SNAP_ID=${DB_ID}-snap-$(date +%Y%m%d)
export REGION=us-east-1
export SG_ID=sg-0123abcd4567ef890
export SUBNET_GRP=app-rds-subnets
export PARAM_GRP=mysql8-dev-params
export OPTION_GRP=mysql8-dev-options
export KMS_KEY=arn:aws:kms:us-east-1:123456789012:key/11111111-2222-3333-4444-555555555555
```

---

## Listing & Discovery

### Describe DB instances
Syntax:
```bash
aws rds describe-db-instances
```
Example (names only):
```bash
aws rds describe-db-instances --query 'DBInstances[].DBInstanceIdentifier'
```

### Single instance details
Example:
```bash
aws rds describe-db-instances \
  --db-instance-identifier dev-mysql01 \
  --query 'DBInstances[0].{Status:DBInstanceStatus,Class:DBInstanceClass,Engine:Engine,MultiAZ:MultiAZ}'
```

### List supported engines (short)
Example:
```bash
aws rds describe-db-engine-versions --engine mysql --default-only \
  --query 'DBEngineVersions[].{Version:EngineVersion,Family:DBParameterGroupFamily}'
```

---

## Engine Versions & Orderable Classes

### Engine versions (PostgreSQL)
Syntax:
```bash
aws rds describe-db-engine-versions --engine postgres --query 'DBEngineVersions[].EngineVersion'
```
Example (filter major 15):
```bash
aws rds describe-db-engine-versions \
  --engine postgres \
  --engine-version 15 \
  --query 'DBEngineVersions[].{Version:EngineVersion,Family:DBParameterGroupFamily}'
```

### Orderable classes
Syntax:
```bash
aws rds describe-orderable-db-instance-options \
  --engine <ENGINE> \
  --engine-version <ENGINE_VERSION> \
  --query 'OrderableDBInstanceOptions[].DBInstanceClass'
```
Example:
```bash
aws rds describe-orderable-db-instance-options \
  --engine mysql \
  --engine-version 8.0.36 \
  --query 'OrderableDBInstanceOptions[].DBInstanceClass' \
  | tr '\t' '\n' | sort -u | head
```

---

## Create DB Instance

### Create MySQL instance (private, encrypted)
Syntax:
```bash
aws rds create-db-instance \
  --db-instance-identifier <DB_ID> \
  --engine mysql \
  --engine-version <ENGINE_VERSION> \
  --db-instance-class <CLASS> \
  --allocated-storage <GB> \
  --master-username <USER> \
  --master-user-password <PASSWORD> \
  --vpc-security-group-ids <SG_IDs> \
  --db-subnet-group-name <SUBNET_GRP> \
  --backup-retention-period <DAYS> \
  --storage-encrypted \
  --kms-key-id <KMS_KEY_ARN> \
  --deletion-protection \
  --enable-cloudwatch-logs-exports error,slowquery \
  --enable-performance-insights
```
Example:
```bash
aws rds create-db-instance \
  --db-instance-identifier dev-mysql01 \
  --engine mysql \
  --engine-version 8.0.36 \
  --db-instance-class db.t3.micro \
  --allocated-storage 20 \
  --master-username adminuser \
  --master-user-password 'S3cureP@ssw0rd!' \
  --vpc-security-group-ids sg-0123abcd4567ef890 \
  --db-subnet-group-name app-rds-subnets \
  --backup-retention-period 7 \
  --storage-encrypted \
  --kms-key-id $KMS_KEY \
  --deletion-protection \
  --enable-cloudwatch-logs-exports error,slowquery \
  --enable-performance-insights \
  --performance-insights-retention-period 7
```

### Create from custom parameter group
Example:
```bash
aws rds create-db-instance \
  --db-instance-identifier dev-mysql01 \
  --engine mysql \
  --engine-version 8.0.36 \
  --db-instance-class db.t3.small \
  --allocated-storage 50 \
  --master-username adminuser \
  --master-user-password 'Another$Pass123' \
  --db-parameter-group-name mysql8-dev-params \
  --db-subnet-group-name app-rds-subnets \
  --backup-retention-period 7 \
  --storage-encrypted \
  --kms-key-id $KMS_KEY
```

---

## Waiters & Endpoints

### Wait for available
Syntax:
```bash
aws rds wait db-instance-available --db-instance-identifier <DB_ID>
```
Example:
```bash
aws rds wait db-instance-available --db-instance-identifier dev-mysql01
```

### Get endpoint (hostname)
Syntax:
```bash
aws rds describe-db-instances --db-instance-identifier <DB_ID> \
  --query 'DBInstances[0].Endpoint.Address' --output text
```
Example:
```bash
ENDPOINT=$(aws rds describe-db-instances \
  --db-instance-identifier dev-mysql01 \
  --query 'DBInstances[0].Endpoint.Address' --output text)
echo $ENDPOINT
```

### Get port
Example:
```bash
aws rds describe-db-instances --db-instance-identifier dev-mysql01 \
  --query 'DBInstances[0].Endpoint.Port'
```

---

## Snapshots (Manual & Automated)

### List manual snapshots for instance
Syntax:
```bash
aws rds describe-db-snapshots --db-instance-identifier <DB_ID>
```
Example:
```bash
aws rds describe-db-snapshots \
  --db-instance-identifier dev-mysql01 \
  --snapshot-type manual \
  --query 'DBSnapshots[].{Id:DBSnapshotIdentifier,Status:Status,Created:SnapshotCreateTime}'
```

### Create snapshot
Syntax:
```bash
aws rds create-db-snapshot --db-instance-identifier <DB_ID> --db-snapshot-identifier <SNAP_ID>
```
Example:
```bash
aws rds create-db-snapshot \
  --db-instance-identifier dev-mysql01 \
  --db-snapshot-identifier dev-mysql01-snap-20250828
```

### Wait snapshot available
Syntax:
```bash
aws rds wait db-snapshot-available --db-snapshot-identifier <SNAP_ID>
```
Example:
```bash
aws rds wait db-snapshot-available \
  --db-snapshot-identifier dev-mysql01-snap-20250828
```

### Delete snapshot
Syntax:
```bash
aws rds delete-db-snapshot --db-snapshot-identifier <SNAP_ID>
```
Example:
```bash
aws rds delete-db-snapshot --db-snapshot-identifier dev-mysql01-snap-20250828
```

### Automated snapshots list
Example:
```bash
aws rds describe-db-snapshots \
  --db-instance-identifier dev-mysql01 \
  --snapshot-type automated \
  --query 'DBSnapshots[0:3].[DBSnapshotIdentifier,SnapshotCreateTime]'
```

---

## Restores & Copies

### Restore instance from snapshot
Syntax:
```bash
aws rds restore-db-instance-from-db-snapshot \
  --db-instance-identifier <NEW_DB_ID> \
  --db-snapshot-identifier <SNAP_ID> \
  --db-instance-class <CLASS>
```
Example:
```bash
aws rds restore-db-instance-from-db-snapshot \
  --db-instance-identifier dev-mysql01-restore \
  --db-snapshot-identifier dev-mysql01-snap-20250828 \
  --db-instance-class db.t3.micro
```

### Copy snapshot (cross-region)
Example:
```bash
aws rds copy-db-snapshot \
  --source-db-snapshot-identifier arn:aws:rds:us-east-1:123456789012:snapshot:dev-mysql01-snap-20250828 \
  --target-db-snapshot-identifier dev-mysql01-snap-20250828-usw2 \
  --kms-key-id $KMS_KEY \
  --region us-west-2
```

### Export snapshot to S3 (MySQL/Postgres)
Example (requires role & target bucket):
```bash
aws rds start-export-task \
  --export-task-identifier dev-mysql01-export-20250828 \
  --source-arn arn:aws:rds:us-east-1:123456789012:snapshot:dev-mysql01-snap-20250828 \
  --s3-bucket-name rds-snapshot-exports-dev \
  --iam-role-arn arn:aws:iam::123456789012:role/RDSSnapshotExportRole \
  --kms-key-id $KMS_KEY
```

---

## Modify / Scale / Maintenance

### Scale storage
Syntax:
```bash
aws rds modify-db-instance --db-instance-identifier <DB_ID> --allocated-storage <NEW_GB> --apply-immediately
```
Example:
```bash
aws rds modify-db-instance \
  --db-instance-identifier dev-mysql01 \
  --allocated-storage 50 \
  --apply-immediately
```

### Enable Performance Insights
Syntax:
```bash
aws rds modify-db-instance --db-instance-identifier <DB_ID> --enable-performance-insights --performance-insights-retention-period <DAYS> --apply-immediately
```
Example:
```bash
aws rds modify-db-instance \
  --db-instance-identifier dev-mysql01 \
  --enable-performance-insights \
  --performance-insights-retention-period 7 \
  --apply-immediately
```

### Disable deletion protection
Syntax:
```bash
aws rds modify-db-instance --db-instance-identifier <DB_ID> --no-deletion-protection --apply-immediately
```
Example:
```bash
aws rds modify-db-instance \
  --db-instance-identifier dev-mysql01 \
  --no-deletion-protection \
  --apply-immediately
```

### Change instance class (planned)
Example:
```bash
aws rds modify-db-instance \
  --db-instance-identifier dev-mysql01 \
  --db-instance-class db.t3.small \
  --apply-immediately
```

### Change maintenance window
Example:
```bash
aws rds modify-db-instance \
  --db-instance-identifier dev-mysql01 \
  --preferred-maintenance-window Sun:03:00-Sun:04:00
```

---

## Performance, Monitoring & Logs

### Enhanced monitoring (requires role)
Syntax:
```bash
aws rds modify-db-instance --db-instance-identifier <DB_ID> \
  --monitoring-interval <SECS> --monitoring-role-arn <ROLE_ARN> --apply-immediately
```
Example:
```bash
aws rds modify-db-instance \
  --db-instance-identifier dev-mysql01 \
  --monitoring-interval 60 \
  --monitoring-role-arn arn:aws:iam::123456789012:role/RDSMonitoringRole \
  --apply-immediately
```

### List log files
Syntax:
```bash
aws rds describe-db-log-files --db-instance-identifier <DB_ID>
```
Example:
```bash
aws rds describe-db-log-files \
  --db-instance-identifier dev-mysql01 \
  --query 'DescribeDBLogFiles[?contains(LogFileName,`slowquery`)].LogFileName'
```

### Download log portion (start)
Syntax:
```bash
aws rds download-db-log-file-portion \
  --db-instance-identifier <DB_ID> \
  --log-file-name <LOG_FILE> \
  --starting-token 0 \
  --output text > <LOCAL_FILE>
```
Example:
```bash
aws rds download-db-log-file-portion \
  --db-instance-identifier dev-mysql01 \
  --log-file-name error/mysql-error-running.log \
  --starting-token 0 \
  --output text > mysql-error.log
```

---

## Parameter Groups

### Create parameter group
Syntax:
```bash
aws rds create-db-parameter-group \
  --db-parameter-group-name <NAME> \
  --db-parameter-group-family <FAMILY> \
  --description "<DESC>"
```
Example:
```bash
aws rds create-db-parameter-group \
  --db-parameter-group-name mysql8-dev-params \
  --db-parameter-group-family mysql8.0 \
  --description "MySQL 8 dev tuning"
```

### Modify parameter (immediate/dynamic vs pending/reboot)
Syntax:
```bash
aws rds modify-db-parameter-group \
  --db-parameter-group-name <NAME> \
  --parameters "ParameterName=<P>,ParameterValue=<V>,ApplyMethod=<immediate|pending-reboot>"
```
Example:
```bash
aws rds modify-db-parameter-group \
  --db-parameter-group-name mysql8-dev-params \
  --parameters "ParameterName=slow_query_log,ParameterValue=1,ApplyMethod=immediate" \
               "ParameterName=long_query_time,ParameterValue=2,ApplyMethod=immediate"
```

### Associate parameter group
Syntax:
```bash
aws rds modify-db-instance --db-instance-identifier <DB_ID> --db-parameter-group-name <NAME> --apply-immediately
```
Example:
```bash
aws rds modify-db-instance \
  --db-instance-identifier dev-mysql01 \
  --db-parameter-group-name mysql8-dev-params \
  --apply-immediately
```

---

## Option Groups (Oracle / SQL Server / MySQL extras)

### Create option group (MySQL sample â€” no options yet)
Example:
```bash
aws rds create-option-group \
  --option-group-name mysql8-dev-options \
  --engine-name mysql \
  --major-engine-version 8.0 \
  --option-group-description "MySQL dev options"
```

### Add option (Oracle example - placeholder)
(Adjust for engine.)

### Associate option group with instance
Example:
```bash
aws rds modify-db-instance \
  --db-instance-identifier dev-mysql01 \
  --option-group-name mysql8-dev-options \
  --apply-immediately
```

---

## Subnet & Security Groups

### List subnet groups
Example:
```bash
aws rds describe-db-subnet-groups \
  --query 'DBSubnetGroups[].{Name:DBSubnetGroupName,Vpc:VpcId,Status:SubnetGroupStatus}'
```

### Create subnet group
Example:
```bash
aws rds create-db-subnet-group \
  --db-subnet-group-name app-rds-subnets \
  --db-subnet-group-description "App private subnets" \
  --subnet-ids subnet-0abc1234def567890 subnet-0123abcd4567efef0
```

### Update security groups on DB
Syntax:
```bash
aws rds modify-db-instance --db-instance-identifier <DB_ID> --vpc-security-group-ids <SG_IDS> --apply-immediately
```
Example:
```bash
aws rds modify-db-instance \
  --db-instance-identifier dev-mysql01 \
  --vpc-security-group-ids sg-0123abcd4567ef890 sg-0fedcba9876543210 \
  --apply-immediately
```

---

## Read Replicas & Multi-AZ

### Create read replica
Syntax:
```bash
aws rds create-db-instance-read-replica \
  --db-instance-identifier <REPLICA_ID> \
  --source-db-instance-identifier <SOURCE_DB_ID> \
  --db-instance-class <CLASS>
```
Example:
```bash
aws rds create-db-instance-read-replica \
  --db-instance-identifier dev-mysql01-ro \
  --source-db-instance-identifier dev-mysql01 \
  --db-instance-class db.t3.micro
```

### Promote read replica
Example:
```bash
aws rds promote-read-replica \
  --db-instance-identifier dev-mysql01-ro
```

### Enable Multi-AZ (for single-AZ)
Example:
```bash
aws rds modify-db-instance \
  --db-instance-identifier dev-mysql01 \
  --multi-az \
  --apply-immediately
```

---

## Storage, Encryption & KMS

### Enable storage autoscaling (if supported)
Example:
```bash
aws rds modify-db-instance \
  --db-instance-identifier dev-mysql01 \
  --max-allocated-storage 100 \
  --apply-immediately
```

### Check encryption status
Example:
```bash
aws rds describe-db-instances --db-instance-identifier dev-mysql01 \
  --query 'DBInstances[0].{Encrypted:StorageEncrypted,KmsKey:KmsKeyId}'
```

---

## IAM Database Authentication

### Enable (MySQL/Postgres)
Example:
```bash
aws rds modify-db-instance \
  --db-instance-identifier dev-mysql01 \
  --enable-iam-database-authentication \
  --apply-immediately
```

### Verify status
Example:
```bash
aws rds describe-db-instances --db-instance-identifier dev-mysql01 \
  --query 'DBInstances[0].IAMDatabaseAuthenticationEnabled'
```

---

## Tagging

### Add tags
Syntax:
```bash
aws rds add-tags-to-resource --resource-name <ARN> --tags Key=Key1,Value=Value1 Key=Key2,Value=Value2
```
Example:
```bash
DB_ARN=$(aws rds describe-db-instances --db-instance-identifier dev-mysql01 \
  --query 'DBInstances[0].DBInstanceArn' --output text)
aws rds add-tags-to-resource \
  --resource-name $DB_ARN \
  --tags Key=Env,Value=dev Key=Project,Value=Platform
```

### List tags
Example:
```bash
aws rds list-tags-for-resource --resource-name $DB_ARN \
  --query 'TagList'
```

### Remove tag
Example:
```bash
aws rds remove-tags-from-resource \
  --resource-name $DB_ARN \
  --tag-keys Env
```

---

## Events & Auditing

### List recent RDS events
Example:
```bash
aws rds describe-events \
  --duration 60 \
  --source-type db-instance \
  --source-identifier dev-mysql01 \
  --query 'Events[].{Time:Date,Message:Message}'
```

### CloudTrail lookup for RDS operations
Example:
```bash
aws cloudtrail lookup-events \
  --lookup-attributes AttributeKey=ResourceName,AttributeValue=dev-mysql01 \
  --max-results 5 \
  --query 'Events[].{Event:EventName,Time:EventTime,User:Username}'
```

---

## Metrics Examples (CloudWatch)

### CPU Utilization (last hour)
Syntax:
```bash
aws cloudwatch get-metric-statistics \
  --namespace AWS/RDS \
  --metric-name CPUUtilization \
  --dimensions Name=DBInstanceIdentifier,Value=<DB_ID> \
  --start-time <START_ISO> --end-time <END_ISO> \
  --period 60 \
  --statistics Average Maximum
```
Example:
```bash
aws cloudwatch get-metric-statistics \
  --namespace AWS/RDS \
  --metric-name CPUUtilization \
  --dimensions Name=DBInstanceIdentifier,Value=dev-mysql01 \
  --start-time "$(date -u -d '1 hour ago' +%FT%TZ)" \
  --end-time "$(date -u +%FT%TZ)" \
  --period 60 \
  --statistics Average Maximum \
  --query 'Datapoints[].[Timestamp,Average,Maximum]'
```

### Free storage space (GB)
Example:
```bash
aws cloudwatch get-metric-statistics \
  --namespace AWS/RDS \
  --metric-name FreeStorageSpace \
  --dimensions Name=DBInstanceIdentifier,Value=dev-mysql01 \
  --start-time "$(date -u -d '2 hours ago' +%FT%TZ)" \
  --end-time "$(date -u +%FT%TZ)" \
  --period 300 \
  --statistics Average \
  --query 'Datapoints[].{Time:Timestamp,GB:Average/1024/1024/1024}'
```

---

## Best Practices
- Use Multi-AZ for production reliability; read replicas for horizontal read scaling.
- Encrypt at rest with customer-managed KMS keys for controllable rotation.
- Enable automated backups + specify retention aligning with RPO.
- Use Performance Insights for hot query diagnostics.
- Apply least privilege for RDS IAM actions; separate provisioning vs. read monitoring roles.
- Keep DB parameter changes in custom groups; never edit default groups.
- Regularly prune old manual snapshots & exports to manage cost.
- Use `max-allocated-storage` for autoscaling to avoid sudden storage exhaustion.
- Turn on slow query log, export to CloudWatch Logs for analysis.
- Limit public accessibility; place DB in private subnets.
- Tag resources for cost allocation & lifecycle management (Env, Owner, Project).
- Verify engine version currency to apply security patches.
- Consider logical replication or DMS for migration / modernization.
- Leverage snapshot copy with encryption for cross-region DR.

---

## Troubleshooting
| Issue | Symptom | Likely Cause | Resolution |
|-------|---------|--------------|------------|
| Provisioning stuck | Status `creating` for long time | Subnet group / SG misconfig | Validate subnet group subnets are in 2+ AZs; SG rules allow required traffic |
| Cannot connect | Timeout | Network ACL / SG / route / DNS | Ensure inbound SG from app, correct port (3306), private DNS resolution |
| Access denied (login) | Authentication error | Wrong user / password or IAM auth mismatch | Reset master password, ensure correct plugin for IAM tokens |
| High CPU | Sustained > 80% | Inefficient queries / insufficient class | Analyze Performance Insights, scale class or optimize SQL |
| StorageFull | Free storage low | Rapid data growth / large temp tables | Increase allocated storage, enable autoscaling, prune data |
| Backup window impact | Elevated latency | Heavy I/O during snapshot | Adjust backup window to off-peak; consider storage optimization |
| Slow replication | Replica lag high | Long transactions on primary | Shorten transactions, tune binlog settings, monitor I/O |
| Modify blocked | Parameter needs reboot | Parameter pending-reboot | Schedule maintenance, apply reboot |
| Snapshot copy slow | Hours to copy | Large size or cross-region bandwidth | Use incremental approach, compress data externally if exporting |
| Performance Insights disabled | PI data absent | Not enabled at create | Modify instance enabling PI (may restart) |
| Deletion blocked | Deletion protection on | Flag enabled | Disable deletion protection then delete |
| Drift in schema mgmt | Unexpected schema changes | Manual DBA changes | Enforce migration tooling; schema diff audits |

---

## Automation Snippets

### Safe modify with waiter
```bash
aws rds modify-db-instance \
  --db-instance-identifier $DB_ID \
  --allocated-storage 60 \
  --apply-immediately
aws rds wait db-instance-available --db-instance-identifier $DB_ID
```

### Snapshot then modify (transactional pattern)
```bash
SNAP="${DB_ID}-pre-mod-$(date +%Y%m%d%H%M)"
aws rds create-db-snapshot --db-instance-identifier $DB_ID --db-snapshot-identifier $SNAP
aws rds wait db-snapshot-available --db-snapshot-identifier $SNAP
# Proceed with modify now that restore point exists
```

### Export outputs for pipeline
```bash
aws rds describe-db-instances --db-instance-identifier $DB_ID \
  --query 'DBInstances[0].{Endpoint:Endpoint.Address,Port:Endpoint.Port,AZ:AvailabilityZone}'
```

### List stale manual snapshots (>30 days)
```bash
aws rds describe-db-snapshots --snapshot-type manual \
  --query 'DBSnapshots[?SnapshotCreateTime<`'"$(date -u -d '30 days ago' +%Y-%m-%dT%H:%M:%SZ)"'`].[DBSnapshotIdentifier,SnapshotCreateTime]' \
  --output table
```

---

## Cleanup Sequences

### Remove read replica then primary
```bash
# Promote or delete replica first
aws rds delete-db-instance --db-instance-identifier dev-mysql01-ro --skip-final-snapshot
aws rds wait db-instance-deleted --db-instance-identifier dev-mysql01-ro
# Disable deletion protection
aws rds modify-db-instance --db-instance-identifier dev-mysql01 --no-deletion-protection --apply-immediately
aws rds wait db-instance-available --db-instance-identifier dev-mysql01
# Final snapshot then delete
aws rds delete-db-instance --db-instance-identifier dev-mysql01 \
  --final-db-snapshot-identifier dev-mysql01-final-$(date +%Y%m%d)
aws rds wait db-instance-deleted --db-instance-identifier dev-mysql01
```

### Delete manual snapshots by prefix
```bash
aws rds describe-db-snapshots \
  --snapshot-type manual \
  --query 'DBSnapshots[?starts_with(DBSnapshotIdentifier,`dev-mysql01-snap-2025`)][].DBSnapshotIdentifier' \
  --output text | tr '\t' '\n' | while read S; do
    aws rds delete-db-snapshot --db-snapshot-identifier "$S"
  done
```

### Delete parameter & option groups (after no references)
```bash
aws rds delete-db-parameter-group --db-parameter-group-name mysql8-dev-params
aws rds delete-option-group --option-group-name mysql8-dev-options
```

---

## Notes
- Master user rename not supported; create a new user and migrate privileges.
- For production, avoid small burstable classes for consistent performance.
- TDE or engine-specific encryption differs from storage encryptionâ€”understand both (especially Oracle / SQL Server).
- IAM DB auth tokens are short-lived (15 min).
- CloudWatch Logs export requires enabling each log type at creation or via modify.
- Multi-AZ adds synchronous standby; not a scaling toolâ€”use read replicas for read scaling.
- For Aurora (separate service family), use `aws rds` but cluster-centric commands differ (`create-db-cluster`, etc.)â€”not covered in depth here.

---
