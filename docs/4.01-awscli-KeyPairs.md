# AWS CLI â€” EC2 Key Pair Operations

## Create key pair (Linux/Unix)

Syntax:
```bash
aws ec2 create-key-pair \
  --key-name <KEY_PAIR_NAME> \
  --key-type rsa \
  --key-format pem \
  --query 'KeyMaterial' --output text > <KEY_FILE>.pem
```

## Secure private key (Linux/Unix)
```bash
  chmod 400 <KEY_FILE>.pem
```

## Create key pair (PowerShell)

Syntax:
```powershell
aws.exe ec2 create-key-pair --key-name <KEY_PAIR_NAME> --key-type rsa --key-format pem --query "KeyMaterial" --output text > <KEY_FILE>.pem
```

Example:
```powershell
aws.exe ec2 create-key-pair --key-name MyLoginKey --key-type rsa --key-format pem --query "KeyMaterial" --output text > MyLoginKey.pem
```

## Secure key (PowerShell)

Syntax:
```powershell
  icacls <KEY_FILE>.pem /inheritance:r /grant:r "$($env:USERNAME):(R)"
```

Example:
```powershell
  icacls MyLoginKey.pem /inheritance:r /grant:r "$($env:USERNAME):(R)"
```
## List Key Pairs:

List Name Only:
```powershell
aws.exe ec2 describe-key-pairs --query "KeyPairs[*].KeyName" --output text
```

List details:
```powershell
aws.exe ec2 describe-key-pairs --output table
```

## Delete key pair

Syntax:
```bash
  aws ec2 delete-key-pair --key-name <KEY_PAIR_NAME>
```

Example:
```powershell
  aws.exe ec2 delete-key-pair --key-name <KEY_PAIR_NAME>
```
